【ネットワーク層】　OSI参照モデルのレイヤー3の規格であり、通信相手を識別するためにIPアドレスの割り当てを行う。また、IPアドレスをもとにデータの適切な経路洗濯を行うルールがある。



〇IP…ネットワーク上の機器が通信する際に使用するプロトコルである。複数のネットワークを相互に接続し、コミュニケーションをコントロールするための通信規約。ネットワーク層で利用されるプロトコル。


〇IPヘッダ…IPパケットの冒頭部にある、IPバージョン・送信元アドレス・宛先アドレスなどの情報が格納された部分のこと。IPで使用する情報が書かれている。


〇ICMP…通信状態を確認するために使われるプロトコルである。ネットワーク層で動作し、IPプロトコルに含まれるプロトコル。データが目的の宛先にタイムリーに到達しているかどうかを判断するために使用する。エラーの報告やテストにおいて極めて重要であるが分散妨害サービス攻撃にも使用されることがある。


〇ICMPメッセージ…ネットワーク内のデータ転送エラーを通知したり、ネットワーク通信に関する問題を診断するために使用される。


〇IPアドレス…ネットワークに接続されたサーバやパソコンなどの通信機器を識別する番号である。ネットワーク上の通信機器ごとに、1つ以上のIPアドレスが割り振られている。通信機器同士が互いのIPアドレス(住所)宛にデータを送り合う。

・オクテット…8ビットのデータブロックを指す。8ビットの情報量を表す単位として使われることもある。例えば、IPアドレスの最初の8ビットを「第一オクテット」と呼ぶ。

・ネットワーク部…IPアドレスを構成するものの一つで、どのネットワークに属しているかを表す部分である。

・ホスト部…IPアドレスを構成するものの一つで、ネットワーク内のどの通信端末(=ホスト)かを表す部分である。

・クラス…ネットワークアドレスとホストアドレスの区切りを考えるため、IPアドレスをクラスに分類している。クラスによって、32ビットのうちどこまでがネットワークアドレスでどこからがホストアドレスなのかがわかるようになる。クラスによって先頭のビットパターンが決まる。

・プライベートIPアドレス…社内もしくは家庭内ネットワークで使用されるIPアドレスのこと。社内(家庭内)ネットワーク内では重複することはない。しかし、世界中で同じ範囲のプライベートアドレスが使用されている。

・グローバルIPアドレス…インターネットへ接続する機器に必ず割り振られるアドレスのこと。必ず世界に一つしかないユニークな数列である。このアドレスが他の通信機器と重複することはない。重複してしまうと正しく相手の通信機器を識別できなくなってしまうからである。


〇ネットワークアドレス…IPアドレスにおいて、ホスト部のビットがすべて0のIPアドレスでネットワークそのものを表すアドレスである。


〇ブロードキャストアドレス…IPアドレスにおいて、ホスト部のビットがすべて1のアドレスで、ネットワーク内のすべてのデバイスにデータを送信するために使用される特別なアドレスである。


〇ループバックアドレス…IPアドレスで自らを指すものをループバックアドレスという。ループバックアドレスとして利用できる範囲のIPアドレスは「127.0.0.0～127.255.255.254」であり、主に使用されるのは「127.0.0.1」である。


〇サブネット…ネットワーク内のネットワークである。サブネットはネットワークをより効率的にする。サブネット化によりネットワークトラフィックは不要なルーターを通過せずとも、短い距離を移動して宛先に到達できる。


〇サブネットマスク…ネットワークの葉にを定義するために使用するものである。IPv4のIPアドレスを使用している場合のみに使用する。IPアドレスとサブネットマスクを組み合わせることでネットワークの範囲(サブネット)を指定することができる。

・プレフィックス表記…IPアドレスの表記方法であり、IPアドレスとサブネットマスクを一同時に表現する書き方。


〇デフォルトゲートウェイ…社内LANなどの閉じたネットワークから外部のネットワークへ接続する際に通信の出入り口の役割を果たす仕組みである。一般的にはルータがデフォルトゲートウェイを担当する。デフォルトゲートウェイを設定しないと、他のネットワークとはやり取りできなくなってしまう。


〇IPv6…Internet Protocol version6の略でありインターネットプロトコルの一つである。IPv4が主流だったが、インターネトの急速な普及によりIPアドレスが枯渇する恐れがあるとしてIPv6が誕生した。


・サブネットプレフィックス…先頭何ビットまでがネットワークアドレスなのかわかるようにしたものである。IPv4のサブネットマスクに相当するものだがIPv6では1から128の整数として表される。IPアドレスのネットワーク部分はプレフィックスと呼ばれる。


・インターフェイスID…特定のノードのインターフェースを識別する値で、サブネット内で一意である必要がある。IPv6ホストでは、近傍検索プロトコルによって自動生成されるが手動で割り当てることも可能である。



●ルータ…異なるネットワーク間でデータをやり取りするための装置でネットワークの中継器とも呼ばれる。ルータが提供する主な機能は2つあり、データパケットを目的のIPアドレスに転送することでこれらのネットワーク間のトラフィックを管理することと、複数のデバイスが同じインターネット接続を使用できるようにすることである。ネットワーク環境には必要不可欠なハードウェア。


・コンソール接続…コンピュータやネットワーク機器に直接接続して、初期設定や管理を行うための接続方法である。コンピュータからシリアルケーブルなどを介して危機に接続し、文字による対話的な操作を行うこと。ルータなどのネットワーク機器の管理でよく用いられる。
CiscoルータのConsoleポートとPCをコンソールケーブルで接続する方法である。

・VTY接続…ルータなどの通信機器にネットワークを通じて別のコンピュータから接続し、操作や管理を行うための仮想的な接続口。ルータなどのネットワーク機器には通信用のイーサネットポートなどとは別に管理用としてコンソールポートやAUXポートなどを備えており、コンピュータのシリアルポートなどと直接ケーブルで接続してターミナルソフトなどで対話的に操作することができるようになっている。この仕組みを通信用のポートを通じて遠隔から使用できるようにしたものがVTYである。
物理的に離れたところからネットワークを通じて遠隔操作用のプロトコル(TELNRTやSSH)で接続する方法。


・AUX接続…補助(AUX)ポートを使用して2台のルータを直接接続する方法である。モデムやその他のデータ通信装置(DCE)デバイスを使用せずに接続できる。
CiscoルータのAUXポート(補助ポート)とモデルを接続し、電話回線経由で接続する方法だがあまり使用することはない。


・ルーティングテーブル…ルータやネットワーク接続されたコンピュータが持つ、個々のネットワークの宛先への経路の一覧を保持しているテーブル状のデータ構造である。ルータ内で経路情報を指し示す経路表のことである。ルータを通過するデータのヘッダ情報と照らし合わせて「このパケットを正しく届けるために次はどのルータにデータを引き渡すと効率的か」を記載してあるテーブルのこと。ルーティングテーブルを作成する=パケットの転送経路を決定するともいえる。


：ネクストホップ…ルーティングテーブルに記載される情報の一つで、個々の宛先ネットワーク毎に決められた、次に転送すべき隣接ルータ(のIPアドレス)のこと。ネクストホップが不明な場合は自分より経路に詳しいと思われるデフォルトゲートウェイへ転送される。次にデータを流すルータの受け取り場所のこと。


・ARPテーブル…ARPによって割り出したIPアドレスとMACアドレスの対応表。同じLAN上にいるホストのIPアドレスを問い合わせ、持ち主が名乗り出てMACアドレスを伝達することで対応関係を知ることができる。

：ARP…Address Resolution Protocolの略。イーサネットやWi-FiなどのLAN上でMACアドレスとIPアドレスの対応関係を調べるためのプロトコルである。

・コアルータ…通信ネットワークを相互接続するために、インターネットやプライベートネットワークのバックボーン間でパケットを転送するルータである。プロバイダがバックボーンと接続するために設置され、ユーザからの膨大なトラフィックを捌く。ボトルネットやパケットロスを防止しながら、パケットを高速で効率的に転送する必要がある。
基幹ネットワークの心臓部。ネットワークの「核」となる部分に位置付けられ、大規模なデータの処理を行う。通信事業者の基幹ネットワークに用いられることが多く、非常に高い性能と信頼性が要求される。また、多数の回線を収容できる拡張性も特徴の一つである。


・センタールータ…本社を中心に支店やプロバイダをスター型に繋ぐ役割を持つルータである。WAN回線を介して本社ネットと支店のネットワークなどを相互接続することが主な用途である。


・エッジルータ…基幹ネットワークのエッジ、すなわち「端」に位置するルータである。企業のローカルネットワークなど小規模なネットワークと大規模なネットワークを結ぶ役割を果たす。


・ブロードバンドルータ…ADSLやFTTHなどのブロードバンド(高速回線)インターネット接続に対応し、無線LANアクセスポイントを内蔵することも多い。ルータが異なるネットワーク同士を接続する機器に対し、ブロードバンドルータはインターネット接続を前提としたルータの一種である。



●ルーティング…ネットワーク上でデータを転送する際、その経路を導き出すこと。特に複数のネットワークがルータに代表される中継機器で接続されているインターネットでは、相手にパケットを届けるために様々なネットワークを経由する可能性がある。この経路を判断する処理がルーティングであり、そこで使われるのがルーティングテーブルである。



・直接接続…ルータと隣接しているネットワークを自動的に登録する機能である。直接接続のルート情報は、ルータが直接接続しているネットワークのルート情報である。ルーティングテーブルへの経路情報の追加方法の一つ。


・スタティックルーティング…ルータの隣接していないネットワークを手動で追加する方法である。ルーティングテーブルへの経路情報の追加方法の一つ。これを設定するには次の3つのパラメータが必要になる。宛先ネットワーク、宛先ネットワークのサブネットマスク「、宛先ネットワークへのネクストホップ。


・ダイナミックルーティング…ルータの隣接していないネットワークについて、ルーティングプロトコルを使用して動的に追加する方法である。ルーティングテーブルへの経路情報の追加方法の一つ。


・ディスタンスベクタ型…ディスタンス(距離)という言葉が入っていることからわかるように、ルータ同士が宛先のネットワークまでの距離情報を交換し、経路を選ぶプロトコルである。仕組みが単純なのでルータにかかる負担が低いことが特徴である。宛先までに経由するルータの数や宛先と接続するリンク情報といった単純な内容を隣接するルータ同士で交換して経路を決定する。ただ、大規模なネットワークには向かないというデメリットがある。経路情報に変更が発生した際、隣接するルータ同士が経路情報を交換するため、すべてのルータに設定が反映されるまでに時間がかかる。また、経路情報の交換にブロードキャストを使うためにルータの台数が増えると、無駄なトラフィックが発生するという問題もある。


・リンクステート型…ディスタンスベクタ型よりも大規模なネットワークに向くように開発されたのがリンクステート型のプロトコルである。それぞれのルータが他のルータのリンク情報(接続するインタフェースの情報)を把握したうえで最適な経路情報を判断することが特徴である。障害でネットワーク構成に変更が生じても、各ルータがネットワーク全体を把握しているので経路を早く切り替えれられる。ただし、各ルータにかかる負荷はディスタンスベクタ型よりも高くなる。
・ハイブリッド型…ルーティングプロトコルのタイプの一つで対象プロトコルはEIGRPがある。ディスタンスベクタ型とリンクステート型の両方の機能を実行する。利用可能なすべてのルートをトポロジテーブルに格納し、DUALを使用して宛先までの最適ルートとバックアップルートを選択し、最適ルートをルーティングテーブルに格納する。最適ルートに障害が発生した場合、素早くバックアップルートに切り替えることができるため、非常に高速なコンバージェンス(収束)を実現する。もしもバックアップルートがない場合は、代わりとなるルートを見つけるために、ルータ自らがネイバー(近辺)に問い合わせ、バックアップルートに即時に切り替える。

【トランスポート層】・・・通信の品質をコントロールする層である。データの信頼性を確保し、確実かつ効率的に相手に届けるための仕組みに関する機能や仕様が定義されている。アプリケーションが求める通信要件に応じて、プロトコルを使い分けることができる。IPなどのネットワーク層の上位に位置し、ホスト内に複数用意された「ポート」間の通信を担当する。


〇コネクション型通信・・・通信相手と事前に接続(コネクション)を確立し、通信の状態を管理する通信方式である。通信の信頼性は高くなるが、通信コスト(負荷)も高くなる。

・ACK・・・TCP(transmission control protocol)通信において、SYNメッセージに対する承認を表すメッセージである。データを正常に受信(承認)したことを示す。ACKが届かない場合には送信側は同じデータを再送する。


〇コネクションレス型通信・・・相手との接続(コネクション)確立を行わずにデータを送信する方式である。通信を始める際の事前処理や通信中の状態確認を行わないため通信の信頼性は高くないが、その分通信コスト(負荷)が低く、遅延が少ない。論理通信路の設定や切断がないから送りたいデータが発生したときはすばやく転送にに取りかかれる。　

・TCP・・・コネクション型通信のプロトコルである。UDPよりも比較的遅いため二つの主な違いは速度である。速いのはUDPだが、失われたデータパケットの再送信はTCPのみで可能となっている。ウィンドウ制御、輻輳制御、再送制御を行う。信頼性は高い。


・スリーウェイハンドシェイク・・・TCPにおいて、使用されるコネクションの確立のこと。"3回"のやり取りによって信頼性が確立される。

・Telnet・・・テルネット。ネットワークを介して二つのホスト間で通信を行うためのプロトコルで、遠隔地にあるサーバやネットワーク機器を操作するための仕組み。サーバ・クライアント方式で提供され、telnetサーバが操作される側、クライアントが操作する側で動作する。クライアントとサーバの間でテキストベース通信を可能にし、リモートコンピュータ上のプログラムやリソースにアクセスすることができる。

・HTTP・・・HTML文書などのリソースを読み取るためのプロトコルである。これはウェブにおけるデータ交換の基礎をなし、クライアントサーバプロトコルであり、リクエストは受取者(一般的にはウェブブラウザー)が生成する。


・FTP・・・クライアントとサーバ間でファイルを送信するためのプロトコルで、コネクション型通信を利用してファイルの送受信を行う。FTPの通信では制御用コネクションとデータ転送用コネクションの2つのコネクションを確立する必要がある。クライアントとサーバ間で制御(コマンド)接続とデータ接続を別々に行う。データコネクションはサーバ側から接続されるため、PORTコマンドで待ち受けポートを指定する。


・SMTP・・・コネクション型通信の通信プロトコルの一種で、メールの送受信に利用される。トランスポート層の通信プロトコルとして伝送制御プロトコル(TCP)を使用している。

〇TCPヘッダ・・・TCPのヘッダでパケットの送信に関連する情報が含まれたものである。次の情報が含まれる。1．送信元ポート番号2．宛先ポート番号3．シーケンス番号4．フラグ5．チェックサムフィールド6.ヘッダー長7．予約範囲。TCPヘッダの長さはほとんどの場合20バイトである。コネクションの確立に必要な要素は送信元ポート番号、宛先ポート番号、フラグの3つである。


〇UDP・・・コネクションレス型通信のプロトコルである。信頼性を確保する仕組みがない(パケットロスしても再送はしない)が、処理が簡単で遅延が少ない。


・RTP・・・音声や映像のデジタルデータによって構成されたIPパケットで、受信側で音声や映像の再生を実現させるためにUDPの上位層で動作するプロトコルである。RTPパケット転送を行う前に受送信側のコネクション確率が必要。RTPはネットワークカメラやIP電話などのリアルタイムな映像や音声の配信に利用される。

・SNMP・・・ネットワークデバイスの管理や監視を行うプロトコルであるUDPを使用する。TCP/IPネットワークに接続されている機器の状態や情報を管理することで処理が軽く、機器への負担を軽減することができる。

・DHCP・・・TCP/IPネットワーク上で端末がネットワークに接続する際に必要な設定情報を自動的に割り当てる機能である。アプリケーションのプロトコル。全端末に対して手動でIPアドレスを設定する必要が無く、管理がしやすくなる。DHCPサーバがダウンしたらネットワークに接続できなくなる。


・TFTP・・・ネットワークワーキングで一般的に使用されている簡易なファイル転送プロトコルである。クライアントデバイスとサーバ間でファイルを転送するための通信プラットフォームとして機能する。

・RIP・・・ネットワーク機器間(ルータ、中継設備など)のルーティングにおける経路制御に用いられるルーティングプロトコルである。ホップ数重視のRIPはIGP(内部ゲートウェイプロトコル)として使用される。障害が発生したときに最大30秒間、障害発生の情報がどこにも伝えられないというデメリットがあり、経路情報の更新に毎回30秒待機時間が発生する。


・UDPヘッダ・・・UDPのデータパケットの先頭に位置し、データの送受信に必要な情報を含んだものである。次の情報が含まれる。1．送信元ポート番号2.宛先ポート番号3.長さ4.ヘッダとデータ部分を合わせたサイズチェックサム
ヘッダとデータ部分が正しいかチェックするために使用される。